<div class="side-panel w-25 d-inline-flex">
	<app-admin-menu class="w-100"></app-admin-menu>
</div>

<div class="content-panel w-75 d-inline-flex">
	<div class="container">
		<div class="app-container">
			<div class="title-container">
				Role
			</div>

			<div class="content-container">



				<!-- Role Form -->
				<form [formGroup]="roleForm" (ngSubmit)="onSubmit()">
					<div class="row mb-3">
						<div class="col-md-6">
							<label for="rolename" class="form-label">Role Name</label>
							<input id="rolename" formControlName="rolename" type="text" class="form-control"
								[ngClass]="{'is-invalid': roleForm.get('rolename')?.invalid && roleForm.get('rolename')?.touched}" />
							<div class="invalid-feedback"
								*ngIf="roleForm.get('rolename')?.invalid && roleForm.get('rolename')?.touched">
								Role name is required.
							</div>
						</div>
						<div class="col-md-6">
							<label for="permissions" class="form-label">Permissions (comma separated)</label>
							<input id="permissions" formControlName="permissions" type="text" class="form-control"
								[ngClass]="{'is-invalid': roleForm.get('permissions')?.invalid && roleForm.get('permissions')?.touched}" />
							<div class="invalid-feedback"
								*ngIf="roleForm.get('permissions')?.invalid && roleForm.get('permissions')?.touched">
								Permissions are required.
							</div>
						</div>
					</div>

					<div class="text-center">
						<button type="submit" class="btn btn-primary me-2" [disabled]="roleForm.invalid">
							{{ isEditMode ? 'Update Role' : 'Create Role' }}
						</button>
						<button type="button" class="btn btn-secondary" (click)="resetForm()"
							*ngIf="isEditMode">Cancel</button>
					</div>
				</form>

				<hr class="my-4" />

				<!-- Roles List -->
				<h3 class="mb-3">Roles List</h3>
				<div class="table-responsive">
					<table class="table table-bordered table-hover">
						<thead class="table-dark">
							<tr>
								<th scope="col">Role Name</th>
								<th scope="col">Permissions</th>
								<th scope="col">Actions</th>
							</tr>
						</thead>
						<tbody>
							<tr *ngFor="let role of roles">
								<td>{{ role.rolename }}</td>
								<td>{{ role.permissions}}</td>
								<td>
									<button class="btn btn-warning btn-sm me-2" (click)="editRole(role)">Edit</button>
									<!-- 							<button class="btn btn-danger btn-sm" (click)="deleteRole(role.id)">Delete</button> -->
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>